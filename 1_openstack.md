# 오픈스택 이해



## (1) 클라우드 컴퓨팅

### 정의

- 사용자의 요청에 따라 공유된 컴퓨터의 자원이나 데이터를 사용자가 이용하는 장치로 제공하는 인터넷 기반의 컴퓨팅 환경

---

### 클라우드 서비스 모델

- IaaS
  - 사용자 : IT관계자
- PaaS
  - 사용자 : 개발자
- SaaS
  - 사용자 : End User

---



## (2) 오픈스텍 개요

- 컴퓨터 하드웨어 위에 인프라를 서비스로 제공하게 해주는 IaaS를 구축하게 해주는 오픈소스 플랫폼
- Public 과 Private 클라우드를 구축하기 위한 오픈 소스
- 컴퓨팅, 스토리지, 네트워크와 같은 자원들을 모으고 이들을 제어하고 운영하는 클라우드 운영체제



- storage 유형 
  - **object** 기반 storage  	ex) swift / s3
  - **block** 기반    ex) Cinder / EBS
    - 클라이언트가 장치파일을 할당 받음
  - **file** 기반
    - 클라이언트에서 특정 directory로 마운트해서 쓰는 형식
    - 오픈스텍에서는 manila, NFS, EFS
  - **Database** 기반



## (3) 오픈스택 서비스(7가지 코어 서비스)



| **서비스**        | **코드 이름** | 설명                                           |
| ----------------- | ------------- | ---------------------------------------------- |
| **핵심서비스**    |               |                                                |
| 인증 서비스       | keystone      | 사용자 관리                                    |
| 컴퓨트 서비스     | nova          | 가상머신 라이프사이클 관리자                   |
| 이미지 서비스     | glance        | 커널이나 디스크 이미지와 같은 가상 이미지 관리 |
| 대시보드          | horizion      | 웹 브라우저를 이용해 gui 콘솔 제공             |
| 오브젝트 스토리지 | swift         | 클라우드 저장 스토리지 제공                    |
| 블록 스토리지     | cinder        | 가상머신을 위한 스토리지 관리                  |
| 네트워크 서비스   | neutron       | 가상 네트워크 관리                             |



- **keystone**

  - 사용자 및 API에 대한 인증 및 권한 설정 서비스를 제공
  - 사용자 인증을 통하여 물리 서버 내의 자원 사용 관리
  - OpenStack 서비스들을 위한 통합 인증 시스템
  - API에 요청을 보내기 전의 인증 처리
    - 최종 사용자/컴포넌트는 API에 요청을 보내기 전에 keystone으로부터 API 동작에 대한 토큰을 구한다.
    - 토큰을 획득하면 대상 API에 대한 URL이 Keystone에서 검색된다.
  - 인증 토큰 메커니즘
    - 오픈스택 클라이언트는 다양한 컴포넌트들에 많은 API호출을 하기 때문에 이러한 호출에 대해 ID/비밀번호를 이용한 인증은 보안 및 성능 면에서 좋지 않다.
    - 클라이언트는 API 호출 전 토큰을 획득하고 사용한 컴포넌트에 토큰 ID를 보낸다.

  

- **Glance**
  - 다양한 하이퍼바이저에서 사용할 수 있는 가상 머신 이미지를 관리, 가상머신에 설치 된 운영체제를 보관 및 관리
  - Swift 프로젝트의 오브젝트 저장장치를 포함한 가상 머신 이미지 저장소로부터 가상 머신 이미지를 탐색, 등록 및 추출하는 기능을 제공
  - Nova를 통해 생성되는 가상 머신은 Glance를 통해 가상 머신 이미지를 제공받고 관리
  - 가상 디스크 이미지들을 저장/등록/관리/전달 할 수 있게 하는 오픈 소스



- **Neutron**
  - 소프트웨어 기반의 네트워킹 서비스 제공
  - 다양한 네트워킹 관련 기술 및 장비를 지원하기 위해 플러그인 방식을 채택
  - 네트워킹 기능은 Neutron과 연결 된 네트워크 프로바이더에 의해 제공



- **NOVA**
  - 가상머신 라이프사이클 관리자
  - 사용자의 요청에 따라 컴퓨팅 자원을 제공하고 관리
  - 가상머신의 생성, 갱신, 삭제, 생명주기 관리 기능을 제공
  - 대규모의 가상 컴퓨트 인스턴스들을 자동적으로 제어하고 운영하기 위한 오픈소스
  - 클라우드 인프라 서비스 구축



- 가상화 유형
  - hypervisor
    - Full virtualization 전가상화
    - Para virtualization 반가상화
  - container



- **Cinder**
  - 범용의 저장장치를 기반으로 디스크 볼륨을 제공
  - Cinder에 의해 생성된 가상 디스크 볼륨은 가상머신에 마운트 되어 가상머신 사용자의 데이터를 저장하는데 사용될 수 있다.
  - NOVA에서 생성된 인스턴스에 확장하여 사용할 수 있는 저장 공간을 생성 및 삭제하고 인스턴스에 연결할 수 있는 기능을 제공



- **Swift**
  - Rackspace CloudFiles 를 기반으로 하는 오픈스택의 Object 저장소
  - 대용량 데이터를 저장할 수 있는 높은 확장성을 가지는 오프젝트 저장장치를 제공하는 서비스
  - 표준 범용 하드웨어를 사용하여 Petabyte급의 저장용량을 다룰 수 있도록 설계되었고 대규모 확장성과 중복 없는 객체 저장을 제공
  - 가상머신 이미지 파일의 저장장치로 사용되기도 한다



- **Horizion**
  - 시스템 관리자 및 서비스 사용자를 위해 권한 별로 오픈스택 서비스를 이용할 수 있는 웹 기반의 사용자 인터페이스 환경을 제공
  - 사용자가 웹 UI를 이용해 인스턴스 생성, 삭제 및 관리 등의 작업을 쉽고 빠르게 처리할 수 있도록 해주는 웹 서비스
  - Horizion은 아파치 웹 서버를 사용하며, 데쉬보드는 파이썬 장고 프레임웍으로 구현

